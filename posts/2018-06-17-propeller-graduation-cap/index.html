<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>Scott Wu - Propeller Graduation Cap</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
<link href="/css/main.css" rel="stylesheet">

<link rel="shortcut icon" href="/img/favicon.png">

</head>

<body>
  <div class="container text-dark pt-3">
    <div class="row">

      <div class="col-12 col-sm-12 col-md-12 col-lg-3 col-xl-3">
        <div class="sidebar">

  <div class="h2 text-center">
    <a href="/">
      Scott Wu
      
    </a>
  </div>

  <div class="text-center pb-1">
    <img src="/img/headshot.png" class="rounded-circle" style="max-width: 200px">
  </div>

  
  <div class="text-center">
    Pineapple connoisseur and DIY enthusiast
  </div>
  

  <hr class="m-2">

  <div class="container-fluid px-3">
  <div class="row justify-content-center">
    
    <div class="col-auto col-lg-8 col-xl-8">
      <a href="mailto:me@scwu.io" target="_new">
        <i class="fa fa-envelope"></i>
        Email
      </a>
    </div>
    
    
    <div class="col-auto col-lg-8 col-xl-8">
      <a href="https://linkedin.com/in/scswu" target="_new">
        <i class="fa fa-linkedin"></i>
        LinkedIn
      </a>
    </div>
    
    
    <div class="col-auto col-lg-8 col-xl-8">
      <a href="https://github.com/ScottSWu" target="_new">
        <i class="fa fa-github"></i>
        Github
      </a>
    </div>
    
    
    <div class="col-auto col-lg-8 col-xl-8">
      <a href="https://instagram.com/scswu" target="_new">
        <i class="fa fa-instagram"></i>
        Instagram
      </a>
    </div>
    
  </div>
</div>


  <hr class="m-2">

  <div class="container-fluid px-3">
    <div class="row justify-content-center">
      
        <div class="col-auto">
          <a href="/posts/">
            Posts
          </a>
        </div>
      
        <div class="col-auto">
          <a href="/tags/">
            All Tags
          </a>
        </div>
      
        <div class="col-auto">
          <a href="/tags/project/">
            Projects
          </a>
        </div>
      
        <div class="col-auto">
          <a href="/tags/instagram/">
            Photography
          </a>
        </div>
      
    </div>
  </div>

</div>

      </div>

      <div class="col-12 col-sm-12 col-md-12 col-lg-9 col-xl-9">
        
  <div class="post-content w-100">
    <h1 class="post-title">
      Propeller Graduation Cap
    </h1>

    
    
    
    <p>For this year&rsquo;s graduation, I decided to decorate my cap with a little more than a sticker.</p>
<p>{% include figure image_path=&quot;graduation_cap.jpg&rdquo; %}</p>
<h2 id="motor">Motor</h2>
<p>The first step into planning was deciding what motor to use. I wanted the electronics to be as simple as possible.</p>
<ul>
<li>Cheap DC motors (that were available) were difficult to mount onto the cap</li>
<li>I didn&rsquo;t want a brushless quadcopter motor chopping off fingers</li>
<li>Stepper motors were too heavy and needed an extra driver board</li>
</ul>
<p>I ended up removing the blades on a <a href="http://a.co/gUrWKEc">PC cooling fan</a>. Though these fans were based on brushless motors, they are low power and have a controller built into them. At 4 watts, they&rsquo;re powerful enough to carry a quadcopter propeller on them.</p>
<h2 id="propeller">Propeller</h2>
<p>I chose 9&rdquo; propellers so that they would fit just inside the 9.25&rdquo; x 9.25&rdquo; cap. Both the original blades and the propeller blades CAN CUT YOU when running at full speed. Sanding down the edges will let you stick your finger in without any bleeding.</p>
<p>{% include figure image_path=&quot;graduation_cap_print.jpg&rdquo; caption=&quot;One of the legs on this mount didn&rsquo;t print nicely.&rdquo; %}</p>
<p>To stick the large propeller on the now-bladeless fan, I printed a piece and superglued everything together.</p>
<h2 id="electronics">Electronics</h2>
<p>{% include figure image_path=&quot;graduation_cap_boards.jpg&rdquo; caption=&quot;Receiver and transmitter.&rdquo; %}</p>
<p>I tried to use the cheapest electronics possible. The unofficial Arduino Nanos are <a href="http://a.co/gdNyoho">$4 each</a> (in bulk). The 433 MHz ASK radio transmitter / receiver pairs are less than <a href="http://a.co/gLzJF7L">$1 each</a>. The remaining perfboards, switches, transistor (<a href="https://www.onsemi.com/pub/Collateral/BC517-D.PDF">BC517</a>) and wire are less than $1 combined.</p>
<p>The idea is pressing the switch on the controller / transmitter will drive the transistor on the hat / receiver. The transistor does get a little hot to the touch, so I put a heatsink just in case.</p>
<p>The antenna is a quarter wavelength wire (~17.3 cm), which significantly improve range. I didn&rsquo;t need any more than that since it would only need to reach from my hand to my head.</p>
<p>{% include figure image_path=&quot;graduation_cap_diagrams.png&rdquo; caption=&quot;Fritzing diagram of the receiver and transmitter.&rdquo; %}</p>
<h2 id="software">Software</h2>
<p>ASK RF transmitters and receivers are difficult to work with on their own. The <a href="http://www.airspayce.com/mikem/arduino/RadioHead/">RadioHead library</a> implements a simple protocol for sending bits. This makes the software exteremely straightforward.</p>
<h3 id="cap--receiver-side">Cap / Receiver Side</h3>
<p>{% highlight C++ %}
#include &lt;RH_ASK.h&gt;</p>
<p>RH_ASK driver(2000, 4, 5);</p>
<p>void setup() {
Serial.begin(9600);
if (!driver.init()) {
Serial.println(&ldquo;RH driver failed to initialize&rdquo;);
}
// NPN Transistor
pinMode(2, OUTPUT);
}</p>
<p>uint8_t buffer[RH_ASK_MAX_MESSAGE_LEN];
uint8_t buffer_len = sizeof(buffer);
long last_time = 0;
void loop() {
if (millis() - last_time &gt; 1000) {
digitalWrite(2, LOW);
}
if (driver.recv(buffer, &amp;buffer_len)) {
if (buffer[0] == &lsquo;O&rsquo; &amp;&amp; buffer[1] == &lsquo;N&rsquo;) {
Serial.println(&ldquo;RECV&rdquo;);
digitalWrite(2, HIGH);
last_time = millis();
}
}
delay(20);
}
{% endhighlight %}</p>
<h3 id="controller--transmitter-side">Controller / Transmitter Side</h3>
<p>{% highlight C++ %}
#include &lt;RH_ASK.h&gt;</p>
<p>RH_ASK driver(2000, 5, 2);</p>
<p>void setup() {
Serial.begin(9600);
if (!driver.init()) {
Serial.println(&ldquo;RH driver failed to initialize&rdquo;);
}
}</p>
<p>void loop() {
const char* msg = &ldquo;on&rdquo;;
if (!digitalRead(3)) {
Serial.println(&ldquo;SEND&rdquo;);
driver.send((uint8_t*) msg, strlen(msg));
driver.waitPacketSent();
}
delay(20);
}
{% endhighlight %}</p>
<h2 id="mounting">Mounting</h2>
<p>{% include figure image_path=&quot;graduation_cap_mount.jpg&rdquo; %}</p>
<p>The cardboard inside the graduation cap was actually rather sturdy, so I went ahead and cut slits into the cardboard and mounted the fan with the provided screws and nuts. I went ahead and zip-tied the remaining board through the cardboard.</p>

  </div>

      </div>

    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

</body>

</html>
